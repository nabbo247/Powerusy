@model PowerusyData.CompleteRegViewModel
@using PagedList.Mvc;
@{
    ViewBag.Title = "Registration";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!-- Breadcroumbs end -->
<!-- Customer Registration Start -->
@using (Html.BeginForm())
{
    <!-- BEGIN HIDDEN FIELDS AREA -->
    @Html.HiddenFor(m => m.EventCommand)
    @Html.HiddenFor(m => m.Mode)
    @Html.HiddenFor(m => m.EventArgument)
    <!-- END HIDDEN FIELDS AREA -->
    <!--start Loading panel-->

    <!-- Create New Shipment Start -->
    <div class="wshipping-content-block shipping-block">

        <div id="loading" class="modal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class=" modal-title">Loading... </h4>
                    </div>
                    <div class=" modal-body">
                        <div class=" progress progress-striped active">
                            <div class="progress-bar" style="width:100%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                <div class="col-12 col-md-12 col-lg-12">
                    @if (!Model.IsValid)
                    {
                        <div class="alert alert-danger
                    alert-dismissable"
                             role="alert">
                            <button type="button" class="close"
                                    data-dismiss="alert">
                                <span aria-hidden="true">
                                    &times;
                                </span>
                                <span class="sr-only">Close</span>
                            </button>
                            @Html.ValidationSummary(false)
                        </div>
                    }
                    @if (TempData["Msg"] != null)
                    {
                        <div class="alert alert-dismissable alert-success">
                            <button type="button" class="close" data-dismiss="alert">
                                x
                            </button>
                            @TempData["Msg"].ToString()
                        </div>
                    }
                </div>
            </div>
            <h2 class="heading2-border mt0">Complete Registration</h2>
            <div class="row">
                <div class="shipping-form-block">

                    <!-- progressbar -->
                    <ul id="progressbar">
                        <li class="active">COMPANY INFORMATION</li>
                        <li>KYC REQUIREMENTS</li>

                    </ul>
                    <!-- fieldsets Shipping From Start-->
                    <fieldset>
                        @*<h2 class="fs-title">Hello. Where are you shipping from? <a href="" title="" class="login-btn-form">Login</a></h2>*@
                        <h3 class="fs-subtitle">* Indicates required field </h3>
                        <div class="shipping-form">
                            <div class="row">

                                <div class="col-12 col-lg-4">
                                    <div class="form-group">
                                        <label>Company name<sup>*</sup></label>
                                        @Html.TextBoxFor(m => m.Entity.companyname, new { @class = "form-control" })
                                        <span class="error1" style="display: none;"> <i class="error-log fa fa-exclamation-triangle"></i> </span>
                                    </div>
                                </div>
                                <div class="col-12 col-lg-4">
                                    <div class="form-group">
                                        <label>Services rendered<sup>*</sup></label>
                                        @Html.DropDownListFor(m => m.ActionTypeId, new SelectList(Model.List, "Text", "Value"), new { @class = "form-control" })

                                        @*<select name="country" class="form-control">
                                                <option>Documentation</option>
                                                <option>Clearing & trucking</option>
                                            </select>*@
                                    </div>
                                </div>
                                <div class="col-12 col-lg-4">
                                    <div class="form-group">
                                        <label>Description of the commercial activity<sup>*</sup></label>
                                        @Html.TextBoxFor(m => m.Entity.description, new { @class = "form-control" })
                                        @*<input type="text" class="form-control" name="Description" placeholder="" />*@
                                    </div>
                                </div>

                            </div>
                            <div class="row">
                                <div class="col-12 col-lg-4">
                                    <div class="form-group">
                                        <label>Address<sup>*</sup></label>
                                        @Html.TextBoxFor(m => m.Entity.address, new { @class = "form-control" })
                                        @*<input type="text" class="form-control" name="address1" placeholder="Street Address" />*@
                                    </div>
                                </div>
                                <div class="col-12 col-lg-4">
                                    <div class="form-group">
                                        <label>Company phone number<sup>*</sup></label>
                                        @Html.TextBoxFor(m => m.Entity.phonenumber, new { @class = "form-control" })
                                        @*<input type="text" class="form-control" name="phone" placeholder="+23480" />*@
                                    </div>
                                </div>
                                <div class="col-12 col-lg-4">
                                    <div class="form-group">
                                        <label>TIN Number</label>
                                        @Html.TextBoxFor(m => m.Entity.tin, new { @class = "form-control" })
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12 col-lg-4">
                                    <div class="form-group">
                                        <label class="slide-label">Is this a residential address?</label>
                                        <div class="slide-redio">
                                            <input type="checkbox" value="None" id="slide-radio0" name="check" checked />
                                            <label for="slide-radio0"></label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        @*<input type="button" name="next" class="next action-button" value="Continue" />
                            <input type="reset" name="cancel" class="action-button btn-red" value="Cancel Shipment" />*@
                    </fieldset>
                    <hr />
                    <!-- fieldsets Shipping From end-->
                    <!-- fieldsets Shipping going Start-->
                    <fieldset>

                        <h3 class="fs-subtitle">* DOCUMENTATION </h3>
                        <div class="shipping-form">
                            <div class="row">

                                <div class="col-12 col-lg-6">
                                    <div class="form-group">
                                        <label class="col-md-4 control-label">Application Form **</label>
                                        <div class="col-md-4 inputGroupContainer">
                                            <input class="form-control required" type="file" id="@Model.uploadedImage" name="uploadedImage" />
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-lg-6">
                                    <div class="form-group">
                                        <label>Contact<sup>*</sup></label>
                                        <input type="text" class="form-control" name="contact2" />
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12 col-lg-4">
                                    <div class="form-group">
                                        <label>Address<sup>*</sup></label>
                                        <input type="text" class="form-control" name="address4" placeholder="Street Address" />
                                    </div>
                                </div>
                                <div class="col-12 col-lg-4">
                                    <div class="form-group">
                                        <label class="empty">&nbsp;</label>
                                        <input type="text" class="form-control" name="address5" placeholder="Apartment, suite, unit, building, floor, etc." />
                                    </div>
                                </div>
                                <div class="col-12 col-lg-4">
                                    <div class="form-group">
                                        <label class="empty">&nbsp;</label>
                                        <input type="text" class="form-control" name="address6" placeholder="Department, c/o, etc." />
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. </p>
                                </div>
                            </div>
                        </div>
                        @*<input type="button" name="previous" class="previous action-button" value="Previous" />
        <input type="button" name="next" class="next action-button" value="Continue" />
        <input type="reset" name="cancel" class="action-button btn-red" value="Cancel Shipment" />*@
                        @*<button id="btnSave"
                class="next action-button"
                data-pdsa-action="save">
            <i class="glyphicon glyphicon-floppy-disk"></i>
            &nbsp;Submit
        </button>*@
                        <button id="btnSearch"
                                class="btn btn-sm btn-primary"
                                data-pdsa-action="save">
                            <i class="glyphicon glyphicon-search"></i>
                            &nbsp;Submit
                        </button>
                        <button id="btnReset"
                                class="btn btn-sm btn-primary"
                                data-pdsa-action="resetsearch">
                            <i class="glyphicon glyphicon-share-alt"></i>
                            &nbsp;Reset
                        </button>
                      
                    </fieldset>

                </div>
            </div>
        </div>
    </div>
    <!-- Create New Shipment end -->
}
@section scripts {

<script>
    $(document).ready(function () {
        $(document).ajaxStart(function () {
            $("#loading").show();
        });
        $(document).ajaxStop(function () {
            $("#loading").hide();
        });

        $("[data-pdsa-action]").on("click", function (e) {

            $("#loading").show();
            e.preventDefault();

            $("#EventCommand").val($(this).data("pdsa-action"));

            $("#EventArgument").val($(this).attr("data-pdsa-val"));

            $("form").submit();
            $.ajax({
                type: frm.attr('method'),
                url: frm.attr('action'),
                data: frm.serialize(),
                success: function (data) {
                    console.log('Submission was successful.');
                    console.log(data);
                },
                error: function (data) {
                    console.log('An error occurred.');
                    console.log(data);
                },
            });
            $("#loading").hide();
        });
    });
</script>
}